(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,n){},103:function(e,t,n){},108:function(e,t,n){},111:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(58),u=n.n(i),s=(n(101),n(19)),l=n(29),c=n(23),o=n(42),m=n(57),p="\nquery($id: String!) {\n\tform(id: $id) {\n\t\t... on SDCForm {\n\t\t\tid,\n\t\t\tdocType,\n\t\t\tprocedureID,\n\t\t\tpatientID,\n\t\t\tlineage,\n\t\t\ttitle,\n\t\t\tsectionIDs,\n\t\t\turi,\n\t\t\tfooter,\n\t\t\tlastModified,\n\t\t\tarbitraryProperties,\n\t\t}\n\t\t... on SDCSection {\n\t\t\tid,\n\t\t\tdocType,\n\t\t\tname,\n\t\t\ttitle,\n\t\t\ttype,\n\t\t\tmustImplement,\n\t\t\tminCard,\n\t\t\tmaxCard,\n\t\t\tsubSectionIDs,\n\t\t\tsuperSectionID,\n\t\t\tarbitraryProperties,\n\t\t}\n\t\t... on SDCQuestion {\n\t\t\tid,\n\t\t\tdocType,\n\t\t\tname,\n\t\t\ttitle,\n\t\t\tmustImplement,\n\t\t\treadOnly,\n\t\t\tminCard,\n\t\t\tmaxCard,\n\t\t\tmaxSelections,\n\t\t\tquestionType,\n\t\t\tisEnabled,\n\t\t\tresponse {\n\t\t\t\tid,\n\t\t\t\tquestionID,\n\t\t\t\tresponseType,\n\t\t\t\tarbitraryProperties,\n\t\t\t\t... on SDCMultipleChoiceResponse {\n\t\t\t\t\tchoices,\n\t\t\t\t\tcanMultiSelect,\n\t\t\t\t\tuserInput: userInput,\n\t\t\t\t}\n\t\t\t\t... on SDCIntResponse {\n\t\t\t\t\tuserInput: userInput,\n\t\t\t\t\tdefaultNum: defaultValue,\n\t\t\t\t}\n\t\t\t\t... on SDCTextResponse {\n\t\t\t\t\tuserInput: userInput,\n\t\t\t\t\tdefaultText: defaultValue,\n\t\t\t\t}\n\t\t\t\t... on SDCDateResponse {\n\t\t\t\t\tuserInput: userInput,\n\t\t\t\t\tdefaultDate: defaultValue,\n\t\t\t\t}\n\t\t\t},\n\t\t\ttextAfterResponse,\n\t\t\tsuperSectionID,\n\t\t\tsuperQuestionID,\n\t\t\tsuperAnswerID,\n\t\t\tarbitraryProperties,\n\t\t}\n\t}\n}\n",d=Object(m.a)({url:"/graphql"}),f=n(16),b=Object(a.createContext)({});b.displayName="UserContext";var E=function(e){var t=e.children,n=Object(a.useState)({status:"pending",error:null,user:null}),i=Object(f.a)(n,2),u=i[0],s=i[1];return Object(a.useEffect)((function(){u.user?console.log(u,"qaq"):fetch("/api/cur-user",{credentials:"include"}).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(e){return s({status:"success",error:null,user:e})})).catch((function(e){return s({status:"error",error:e,user:null})}))}),[]),console.log("user",u),r.a.createElement(b.Provider,{value:{state:u,setState:s}},t)},h=n(27),v=n.n(h),g=n(39),y=n(155),I=n(158),O=(n(103),function(){var e=Object(s.e)(),t=Object(c.b)("\nmutation($id: String) {\n\tdeleteForm(id: $id) {\n\t\tid\n\t}\n}\n"),n=Object(f.a)(t,2)[1],i=Object(a.useState)(""),u=Object(f.a)(i,2),l=u[0],o=u[1],m=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,r,i=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(l)){e.next=2;break}return e.abrupt("return");case 2:for(n=i.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=i[r];return e.next=5,t.apply(void 0,[l].concat(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var t=Object(g.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/formdisplay/"+n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var e=Object(g.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({id:t});case 2:e.sent.error?alert("Form deletion failed. There is no form for ID ".concat(t)):alert("Form ".concat(t," deleted!"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var t=Object(g.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.push("/upload-form/"+n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E={id:"FormID",labelText:"Form ID",onChange:function(e){o(e.target.value)}};return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"mainWrap"},r.a.createElement("div",{className:"displayDelete"},r.a.createElement(y.a,E),r.a.createElement(I.a,{id:"displayButton",kind:"tertiary",className:"menu-Button",onClick:function(){return m(p)}},"Display Form"),r.a.createElement(I.a,{id:"deleteButton",kind:"danger",className:"menu-Button",onClick:function(){return m(d)}},"Delete Form")),r.a.createElement("div",{className:"uploadUpdate"},r.a.createElement(I.a,{id:"uploadButton",kind:"tertiary",className:"menu-Button",onClick:function(){return b("new")}},"Upload Form"),r.a.createElement(I.a,{id:"updateButton",kind:"tertiary",className:"menu-Button",onClick:function(){return b("update")}},"Update Form"))))});function D(e){return null!==e&&""!==e}var j=n(30),S=n(80),C=n(156),N=n(148),x=n(157),k=n(149),w=n(159),T=function(e){var t=e.questionID,n=e.formArray,a=e.setFormArray,i=n.findIndex((function(e){return e.id==t})),u=n[i],s=Object(S.a)(n);if(null!=u.superQuestionID){var l=n.findIndex((function(e){return e.id==u.superQuestionID}));n[l].response.userInput==u.superAnswerID?u.isEnabled=!0:u.isEnabled=!1}var c={id:u.id,labelText:u.title,onChange:function(e){var t=n.findIndex((function(e){return e.id==u.id}));s[t].response.userInput=e.target.value,a(s)},disabled:null!=u.isEnabled&&!u.isEnabled,value:null!==u.response.userInput?u.response.userInput:"",helperText:u.name},m={id:u.id,labelText:u.title,onChange:function(e){var t=n.findIndex((function(e){return e.id==u.id}));s[t].response.userInput=e.target.value,a(s)},disabled:null!=u.isEnabled&&!u.isEnabled,value:null!==u.response.userInput?u.response.userInput:""},p={id:u.id,onChange:function(e){var t=n.findIndex((function(e){return e.id==u.id}));null===s[t].response.userInput&&(s[t].response.userInput=0),e.target.value?s[t].response.userInput=isNaN(parseInt(e.target.value))?s[t].response.userInput:parseInt(e.target.value):"Increment number"===e.target.title?s[t].response.userInput=parseInt(s[t].response.userInput)+1:"Decrement number"===e.target.title&&(s[t].response.userInput=parseInt(s[t].response.userInput)-1),a(s)},min:0,max:9999999,value:null!==u.response.userInput?u.response.userInput:0,step:1,disabled:null!=u.isEnabled&&!u.isEnabled,helperText:u.name},d={className:"radioWrap",onChange:function(e){var t=Object(S.a)(n),r=t.findIndex((function(e){return e.id==u.id}));t[r].response.userInput==e.target.value?t[r].response.userInput="":t[r].response.userInput=e.target.value,a(t)},name:u.name},b={className:"radioButton",disabled:null!=u.isEnabled&&!u.isEnabled,name:u.name};return"text"==u.questionType?r.a.createElement("div",{className:"SDCQuestion"},u.mustImplement?"*":null,F(u),r.a.createElement(y.a,c)):"date"==u.questionType?r.a.createElement("div",{className:"SDCQuestion"},u.mustImplement?"*":null,F(u),r.a.createElement(C.a,{dateFormat:"m/d/Y",datePickerType:"simple"},r.a.createElement(N.a,m)),u.textAfterResponse?u.textAfterResponse:""):"number"==u.questionType?r.a.createElement("div",{className:"SDCQuestion"},u.mustImplement?"*":null,F(u),r.a.createElement(x.a,p)):"single choice"==u.questionType?r.a.createElement("div",{className:"SDCQuestion"},r.a.createElement(k.a,{legendText:u.title?u.title:u.id}," ",u.mustImplement?"*":null,F(u),r.a.createElement("div",d,u.response.choices.map((function(e){var t=e.title;if(u.response.arbitraryProperties&&0!==u.response.arbitraryProperties.length){var n,a=Object(o.a)(u.response.arbitraryProperties.map((function(e){return Object.entries(e)})));try{for(a.s();!(n=a.n()).done;){var i=Object(f.a)(n.value,1),s=Object(f.a)(i[0],2),l=s[0],c=s[1];Array.isArray(c)&&c.length===u.response.choices.length&&(t=t+", "+JSON.stringify(l)+": "+JSON.stringify(c[u.response.choices.indexOf(e)]))}}catch(m){a.e(m)}finally{a.f()}}return r.a.createElement(w.a,Object.assign({value:e.ID,labelText:t,key:e.name},b,{defaultChecked:u.response.userInput==e.ID}))}))))):null},F=function(e){return r.a.createElement("div",null,e.arbitraryProperties?e.arbitraryProperties.map((function(e){return e?r.a.createElement("div",{className:"arbitraryQuestionProperties"},Object.entries(e).map((function(e){return r.a.createElement("h6",{className:"arbitraryQuestionProperty"},JSON.stringify(e[0]),": ",JSON.stringify(e[1]))}))):""})):"")},P=n(150),q=(n(83),function(){var e=Object(s.f)().procedureId,t=Object(a.useState)([]),n=Object(f.a)(t,2),i=n[0],u=n[1],l=Object(a.useState)({id:e}),o=Object(f.a)(l,1)[0],m=Object(c.c)({query:p,variables:o}),d=Object(f.a)(m,1)[0],b=d.data,E=d.fetching;d.error;if(E)return r.a.createElement("p",null,"Loading...");0==i.length&&b.form.map((function(e){delete e.__typename,i.push(e)}));var h=function e(t){return r.a.createElement("div",null,t.map((function(t){return r.a.createElement("div",null,r.a.createElement(T,{questionID:t.id,formArray:i,setFormArray:u}),t.subQuestions?e(t.subQuestions):null)})))},v=function e(t,n){var a=n.find((function(e){return"SDCSection"===e.docType&&e.id===t})),r=a.subSectionIDs,i=Object(j.a)(a,["subSectionIDs"]);i.subSections=[],r.forEach((function(t){return i.subSections.push(e(t,n))}));var u=n.filter((function(e){return"SDCQuestion"===e.docType&&e.superSectionID===t}));return i.questions=[],u.forEach((function(e){return i.questions.push(g(e,n))})),i},g=function(e,t){var n=t.filter((function(t){return"SDCQuestion"===t.docType&&t.superQuestionID===e.id}));return e.subQuestions=n,e},y=function(e){if(!e)return{};var t=e[0],n=t.sectionIDs,a=Object(j.a)(t,["sectionIDs"]);return a.sections=[],n.forEach((function(t){return a.sections.push(v(t,e))})),a}(i);return r.a.createElement("div",{className:"fillerWrap"},r.a.createElement("div",{className:"fillerHead"},r.a.createElement("h3",null,y.formID),r.a.createElement("h3",null,y.name),function(e,t){return r.a.createElement("div",{className:"fillerProperties"},r.a.createElement("h5",null,"Title: ",e.title),r.a.createElement("h6",null,"Version: ",e.lastModified),r.a.createElement("h6",null,"Lineage: ",e.lineage),"template"!==e.patientID?r.a.createElement("h5",null,"Patient: ",e.patientID):null,t?t.map((function(e){return e?r.a.createElement("div",{className:"arbitraryFormProperties"},Object.entries(e).map((function(e){return r.a.createElement("h6",{className:"arbitraryFormProperty"},JSON.stringify(e[0]),": ",JSON.stringify(e[1]))}))):""})):"")}(y,y.arbitraryProperties)),r.a.createElement(P.a,{className:"fillerForm"},r.a.createElement("br",null),function e(t){return t?r.a.createElement("div",{className:"sectionWrap"},t.map((function(t){return null===t?null:r.a.createElement("div",null,r.a.createElement("p",{className:"sectionTitle"},"Section ",t.name,": ",t.title),t.mustImplement?r.a.createElement("p",null,"* Must Complete this section"):null,h(t.questions),e(t.subSections))}))):null}(y.sections),r.a.createElement("br",null)),r.a.createElement("p",{className:"footer"},"Footer: ",y.footer))}),Q=n(55),A=function(){var e=Object(s.f)().action,t=Object(c.b)("\nmutation($id: String, $input: FormXMLInput) {\n\tuploadForm(id: $id, input: $input) {\n\t\tid,\n\t\txml\n\t}\n}\n"),n=Object(f.a)(t,2)[1],i=Object(a.useState)({id:"",title:"",name:"",procedureID:""}),u=Object(f.a)(i,2),l=u[0],o=u[1],m=Object(a.useState)({fileName:"",contents:""}),p=Object(f.a)(m,2),d=p[0],b=p[1],E=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget.files[0],n.text().then((function(e){return e})),e.next=5,n.text();case 5:a=e.sent,b({fileName:n.name,contents:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h={id:"FormID",labelText:"Form ID",onChange:function(e){var t=e.currentTarget.value;o({id:t,procedureID:t})}};return r.a.createElement("div",{className:"update-form-container"},r.a.createElement("h1",null,"new"===e?"Upload":"Update"," a Form"),r.a.createElement("form",{id:"FormUpdate",onSubmit:function(t){t.preventDefault();var a=Object(Q.a)({},l);return a={id:l.id,input:{id:l.id,xml:d.contents}},o(a),n(a),alert("Form was ".concat("new"===e?"uploaded":"updated"," with title: ").concat(d.fileName," and procedure ID: ").concat(l.procedureID)),!1}},r.a.createElement(y.a,h),r.a.createElement("label",null,"File:",r.a.createElement("input",{type:"file",onChange:E})),r.a.createElement(I.a,{type:"submit",kind:"tertiary"},"Submit")))},$=n(151),M=n(154),B=n(74),L=n(72),U=n(75),W=n(77),J=n(76),R=n(73),V=n(36),H=(n(108),function(){var e=Object(s.e)(),t=Object(a.useState)(""),n=Object(f.a)(t,2),i=n[0],u=n[1],l=Object(c.c)({query:"\n{\n\tforms {\n        id,\n        docType,\n        procedureID,\n        patientID,\n        lineage,\n        title,\n        lastModified\n\t}\n}\n"}),o=Object(f.a)(l,1)[0],m={id:"searchForm",labelText:"Procedure ID",onChange:function(e){return u(e.target.value)}},p=o.data?o.data.forms.map((function(e){return{id:e.id,procedureID:e.procedureID,lastm:e.lastModified}})):[];return r.a.createElement("div",{className:"dashBoard"},r.a.createElement("div",{className:"searchWrap"},r.a.createElement($.a,m)),r.a.createElement("div",{className:"tableWrap"},r.a.createElement(M.a,{rows:""==i?p:p.filter((function(e){return e.procedureID.includes(i)||e.id.includes(i)})),headers:[{key:"id",header:"ID"},{key:"procedureID",header:"Procedure ID"},{key:"lastm",header:"Last Modifed"}]},(function(t){var n=t.rows,a=t.headers;return r.a.createElement(B.a,{title:"SDCForms",description:"Procedure"},r.a.createElement(L.a,null,r.a.createElement(U.a,null,r.a.createElement(W.a,null,a.map((function(e){return r.a.createElement(J.a,{key:e.key},e.header)})),r.a.createElement(J.a,null))),r.a.createElement(R.a,null,n.map((function(t){return r.a.createElement(W.a,{key:t.id},t.cells.map((function(n){return r.a.createElement(V.a,{key:n.id,onClick:function(){return e.push("/formfill/"+t.id)}},n.value)})))})))))}))))}),_=function(){var e=Object(s.f)().formID,t=Object(a.useState)(0),n=Object(f.a)(t,2),i=n[0],u=n[1],l=Object(c.b)("\nmutation($id: String, $input: UserResponse) {\n\tupdateRes(id: $id, input: $input) {\n\t\tid\n\t}\n}\n"),m=Object(f.a)(l,2)[1],d=Object(a.useState)([]),b=Object(f.a)(d,2),E=b[0],h=b[1],v=Object(a.useState)({id:e}),g=Object(f.a)(v,1)[0],O=Object(c.c)({query:p,variables:g}),D=Object(f.a)(O,1)[0],S=D.data,C=D.fetching;D.error;if(C)return r.a.createElement("p",null,"Loading...");0==E.length&&S.form.map((function(e){delete e.__typename,E.push(e)}));var N=function e(t){return r.a.createElement("div",null,t.map((function(t){return r.a.createElement("div",null,r.a.createElement(T,{questionID:t.id,formArray:E,setFormArray:h}),t.subQuestions?e(t.subQuestions):null)})))},x=function e(t,n){var a=n.find((function(e){return"SDCSection"===e.docType&&e.id===t})),r=a.subSectionIDs,i=Object(j.a)(a,["subSectionIDs"]);i.subSections=[],r.forEach((function(t){return i.subSections.push(e(t,n))}));var u=n.filter((function(e){return"SDCQuestion"===e.docType&&e.superSectionID===t}));return i.questions=[],u.forEach((function(e){return i.questions.push(k(e,n))})),i},k=function(e,t){var n=t.filter((function(t){return"SDCQuestion"===t.docType&&t.superQuestionID===e.id}));return e.subQuestions=n,e},w=function(e){if(!e)return{};var t=e[0],n=t.sectionIDs,a=Object(j.a)(t,["sectionIDs"]);return a.sections=[],n.forEach((function(t){return a.sections.push(x(t,e))})),a}(E),F={id:"patientID",labelText:"Patient ID",onChange:function(e){u(e.target.value),E.find((function(e){return"SDCForm"===e.docType})).patientID=e.target.value},helperText:"Enter Patient ID",value:"template"===E.find((function(e){return"SDCForm"===e.docType})).patientID?"":E.find((function(e){return"SDCForm"===e.docType})).patientID},q=function(){var e=0;""==i?(alert("Please enter the Patient ID"),e=1):e=0;var t,n=Object(o.a)(E);try{e:for(n.s();!(t=n.n()).done;){var a=t.value;if("SDCQuestion"===a.docType&&!1!==a.mustImplement&&!1!==a.isEnabled)if("text"===a.questionType){if(""===a.response.userInput){alert("Please fill in the answer for Question: ".concat(a.title.slice(0,-1))),e=1;break e}e=0}else if("single choice"===a.questionType){if(0==a.response.userInput.length){alert("Please fill in the answer for Question: ".concat(a.title.slice(0,-1))),e=1;break e}e=0}else{if(null===a.response){alert("Please fill in the answer for Question: ".concat(a.title.slice(0,-1))),e=1;break e}e=0}}}catch(s){n.e(s)}finally{n.f()}if(0===e){var r=Date.now(),u="".concat(w.id,"-").concat(i,"-").concat(r.toString());w.id=u,m({id:u,input:E}),console.log("This is the response: ",E)}};return r.a.createElement("div",{className:"fillerWrap"},r.a.createElement("div",{className:"fillerHead"},r.a.createElement("h3",null,w.formID),r.a.createElement("h3",null,w.name),function(e,t){return r.a.createElement("div",{className:"fillerProperties"},r.a.createElement("h5",null,"Title: ",e.title),r.a.createElement("h6",null,"Version: ",e.lastModified),r.a.createElement("h6",null,"Lineage: ",e.lineage),"template"!==e.patientID?r.a.createElement("h5",null,"Patient: ",e.patientID):null,t?t.map((function(e){return e?r.a.createElement("div",{className:"arbitraryFormProperties"},Object.entries(e).map((function(e){return r.a.createElement("h6",{className:"arbitraryFormProperty"},JSON.stringify(e[0]),": ",JSON.stringify(e[1]))}))):""})):"")}(w,w.arbitraryProperties),r.a.createElement(y.a,F)),r.a.createElement(P.a,{onSubmit:q,className:"fillerForm"},r.a.createElement("br",null),function e(t){return t?r.a.createElement("div",{className:"sectionWrap"},t.map((function(t){return null===t?null:r.a.createElement("div",null,r.a.createElement("p",{className:"sectionTitle"},"Section ",t.name,": ",t.title),t.mustImplement?r.a.createElement("p",null,"* Must Complete this section"):null,N(t.questions),e(t.subSections))}))):null}(w.sections),r.a.createElement("br",null),r.a.createElement(I.a,{onClick:q},"Submit")),r.a.createElement("p",{className:"footer"},"Footer: ",w.footer))},G=n(64),Y=n(65),K=n(67),X=n(66),z=(n(84),function(){var e=Object(s.e)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"notFound"},r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement("h3",null,"404: Not found"),r.a.createElement("p",{style:{marginTop:"0.5em"}},"This page does not exist, click  ",r.a.createElement("strong",null,"Go back"),r.a.createElement("br",null)," to return."),r.a.createElement(I.a,{style:{marginTop:"1rem"},onClick:function(){return e.goBack()}},"Go back"))))});var Z,ee,te=(Z=function(e,t){return t?r.a.createElement(z,null):r.a.createElement(r.a.Fragment,null,e.children)},function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(){var e;Object(G.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={error:void 0},e}return Object(Y.a)(n,[{key:"componentDidCatch",value:function(e,t){ee&&ee(e,t)}},{key:"render",value:function(){return Z(this.props,this.state.error)}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),n}(r.a.Component)),ne=(n(111),function(){var e=Object(s.e)(),t=Object(a.useContext)(b),n=Object(a.useState)(""),i=Object(f.a)(n,2),u=i[0],l=i[1],o=Object(a.useState)(""),m=Object(f.a)(o,2),p=m[0],d=m[1],E=Object(c.c)({query:"\nquery($id: String, $password: String) {\n\tuser(id: $id, password: $password) {\n\t\tid,\n\t\tpassword,\n\t\tpermissions\n\t}\n}",pause:!0,variables:{id:u,password:p}}),h=Object(f.a)(E,2),v=h[0],g=h[1],O=v.data,D=v.fetching;v.error;!D&&O&&O.user&&(t.setState({status:"success",error:null,user:O.user}),e.push("/manage"));var j={id:"username",labelText:"User Name",onChange:function(e){l(e.target.value)}},S={id:"password",labelText:"Password",onChange:function(e){d(e.target.value)}},C=function(n){return fetch("/api/".concat(n,"-guest-login")).then((function(n){if(!n.ok)throw new Error(n.statusText);n.json().then((function(n){return t.setState({status:"success",error:null,user:n.user}),e.push(n.url),n}))}))};return console.log("user",t.state),r.a.createElement("div",null,r.a.createElement("div",{className:"mainWrap"},r.a.createElement("h1",null,"Login"),r.a.createElement("div",{className:"loginreg"},r.a.createElement(y.a,j),r.a.createElement(y.a,S),r.a.createElement(I.a,{id:"loginbtn",kind:"primary",className:"menu-Button",onClick:function(){g(),console.log("click")}},"Login")),r.a.createElement("div",{className:"guest"},r.a.createElement("p",null,"Or..."),r.a.createElement(I.a,{id:"fillerbtn",kind:"secondary",onClick:function(){C("filler")}},"Log in as Filler guest"),r.a.createElement(I.a,{id:"managebtn",kind:"secondary",onClick:function(){C("manager")}},"Log in as Manager guest"))))});var ae=n(152),re=n(160),ie=n(153),ue=function(e){var t=e.component,n=e.isAuthenticated,i=e.noAuthComponent,u=Object(j.a)(e,["component","isAuthenticated","noAuthComponent"]),l=Object(a.useContext)(b),c=Object(s.e)(),o=function(){var e=Object(a.useContext)(b),t="pending"===e.state.status,n="error"===e.state.status,r="success"===e.state.status,i=e.state.user&&r;return Object(Q.a)(Object(Q.a)({},e.state),{},{isPending:t,isError:n,isSuccess:r,isAuthenticated:i})}(),m=function(e){return fetch("/api/".concat(e,"-guest-login")).then((function(e){if(!e.ok)throw new Error(e.statusText);e.json().then((function(e){return l.setState({status:"success",error:null,user:e.user}),c.push(e.url),e}))}))},p=function(){return window.localStorage.setItem("redirectUrl",window.location.href),r.a.createElement("div",null,r.a.createElement("div",{className:"noAuth"},r.a.createElement("h1",null,"SDC Forms"),r.a.createElement("p",{style:{marginTop:"0.5em"}},"You don't have access to this page, try..."),r.a.createElement("div",null,r.a.createElement(I.a,{style:{marginTop:"2em",marginBottom:"1em"},onClick:function(){return c.push("/")}},"Log in to get started")),r.a.createElement("div",{className:"guest"},r.a.createElement("p",null,"Or..."),r.a.createElement(I.a,{id:"fillbtn",kind:"secondary",onClick:function(){m("filler")}},"Log in as Filler guest"),r.a.createElement(I.a,{id:"mngbtn",kind:"secondary",onClick:function(){m("manager")}},"Log in as Manager guest"))))};i&&(p=i);return r.a.createElement(s.a,Object.assign({},u,{render:function(e){return n?n({auth:o})?r.a.createElement(t,Object.assign({},e,u)):r.a.createElement(p,null):(a=o.user)&&(u.path.includes("manage")||u.path.includes("upload-form")||u.path.includes("formdisplay")?a.permissions.includes("manage"):u.path.includes("formfill")||u.path.includes("fill")?a.permissions.includes("fill"):void 0)?r.a.createElement(t,Object.assign({},e,u)):r.a.createElement(p,null);var a}}))},se=n(92),le=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(){return Object(G.a)(this,n),t.apply(this,arguments)}return Object(Y.a)(n,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.to,a=(e.staticContext,Object(j.a)(e,["history","to","staticContext"]));return r.a.createElement(se.HeaderMenuItem,Object.assign({onClick:function(){return t.push(n)},onKeyDown:function(e){"Enter"===e.key&&t.push(n)}},a))}}]),n}(a.Component),ce=Object(s.g)(le),oe=Object(a.forwardRef)((function(e,t){return r.a.createElement(ce,e)}));oe.displayName="HeaderMenuItemLink";n(140);var me=function(){var e=Object(s.e)();return r.a.createElement(l.a,null,r.a.createElement(te,null,r.a.createElement(E,null,r.a.createElement("div",{className:"App"},r.a.createElement(s.a,{path:"/after-login",component:function(){var e=window.localStorage.getItem("redirectUrl");return window.localStorage.removeItem("redirectUrl"),window.location.href=e||"/",null}}),r.a.createElement(c.a,{value:d},r.a.createElement(ae.a,{"aria-label":"Crunchy coders"},r.a.createElement(re.a,{href:"#",prefix:"SDC"},"[Forms]"),r.a.createElement(ie.a,{"aria-label":"Crunchy"},r.a.createElement(oe,{history:e,to:"/manage"},"Manage"),r.a.createElement(oe,{history:e,to:"/fill"},"Fill"))),r.a.createElement(s.a,{path:"/",component:ne,exact:!0}),r.a.createElement(ue,{path:"/manage",component:O,exact:!0}),r.a.createElement(ue,{path:"/upload-form/:action",component:A,exact:!0}),r.a.createElement(ue,{path:"/formdisplay/:procedureId",component:q,exact:!0}),r.a.createElement(ue,{path:"/formfill/:formID",component:_}),r.a.createElement(ue,{path:"/fill",component:H,exact:!0}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pe;pe=me,u.a.render(r.a.createElement(pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,t,n){},84:function(e,t,n){},96:function(e,t,n){e.exports=n(141)}},[[96,1,2]]]);
//# sourceMappingURL=main.4adb7f52.chunk.js.map